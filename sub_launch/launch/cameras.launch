<launch>

  <node pkg="nodelet" type="nodelet" name="forward_camera_driver" args="standalone ueye/CameraNodelet">
    <remap from="image_raw" to="forward_camera/image_raw"/>
    <remap from="camera_info" to="forward_camera/camera_info"/>
    <param name="config_path" value="$(find sub_launch)/launch/"/>
    <param name="frame_id" value="/forward_camera"/>
    <rosparam file="$(find sub_launch)/launch/ueye_forward_camera.yaml"/>
  </node>
  <group ns="param_saver/forward_camera_driver">
    <param name="filename" value="$(find sub_launch)/launch/ueye_forward_camera.yaml"/>
    <rosparam>
      file_basepath: /forward_camera_driver
      param_paths: [white_balance, trigger, force_streaming, hardware_gamma, auto_exposure, exposure_time, gain_boost, auto_gain, gain, zoom, frame_rate, pixel_clock, rotate180]
    </rosparam>
  </group>
  <!-- <node pkg="pgr_camera" type="pgr_camera_node" name="forward_camera_driver">
    <param name="serial_number" value="10282860"/>
    <param name="frame_id" value="/forward_camera"/>
    <param name="camera_info_url"
      value="file://$(find sub_launch)/launch/forward_camera_calibration.yaml"/>
    <remap from="camera" to="forward_camera"/>
  </node> -->
  <node pkg="tf" type="static_transform_publisher" name="forward_camera_tf"
    args="0.566 0 0.049  0.5 -0.5 0.5 -0.5  base_link forward_camera 100" />
  <node ns="forward_camera" pkg="image_proc" type="image_proc"
          name="image_proc" />

  <node pkg="pgr_camera" type="pgr_camera_node" name="down_camera_driver">
    <param name="serial_number" value="10282863"/>
    <param name="frame_id" value="/down_camera"/>
    <param name="camera_info_url"
      value="file://$(find sub_launch)/launch/down_camera_calibration.yaml"/>
    <remap from="camera" to="down_camera"/>
  </node>
  <node pkg="tf" type="static_transform_publisher" name="down_camera_tf"
    args="0.297 0 -0.102  0.707107 -0.707107 0 0  base_link down_camera 100" />
  <node ns="down_camera" pkg="image_proc" type="image_proc"
          name="image_proc" />


</launch>
